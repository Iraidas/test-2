.order {
    background: #272733;
    position: relative;
    &::before {
        content: "";
        position: absolute;
        width: 100%;
        height: 100%;        
        background: url('@img/order_background.png') center 0 no-repeat;
        background-size: cover !important;
        z-index: 1;
    }
    &__container {
        position: relative;
        padding-top: 130px;
        padding-bottom: 180px;
        z-index: 5;
    }
    &__title {
        font-family: Lato, sans-serif;
        font-size: 36px;
        font-style: normal;
        font-weight: 800;
        line-height: normal;
        text-transform: uppercase;
        color: white;
        text-align: center;
        margin-bottom: 30px;
    }
    &__description {
        font-family: Lato, sans-serif;
        font-size: 18px;
        font-style: normal;
        font-weight: 400;
        line-height: normal;
        color: #BBB;
        text-align: center;
        margin-bottom: 80px;
    }
    &__stages-list {
        display: grid;
        grid-template-columns: repeat(5, 1fr);
        margin-bottom: 80px;
        gap: 50px;
    }
    &__stages-list-item {
        font-family: Lato, sans-serif;
        text-align: center;
        font-size: 16px;
        font-style: normal;
        font-weight: 400;
        line-height: normal;
        color: #FFF;
        max-width: 192px;
        margin-top: 120px;
        position: relative;
        &::before {
            content: "";
            position: absolute;
            top: -120px;
            left: 0;
            right: 0;
            margin-left: auto;
            margin-right: auto;
            width: 100px;
            height: 100px;
            border-radius: 50%;
            border: 5px solid var(--dark-blue);
            background-color: var(--light-blue);
            background-size: 60%;
            background-position: 17px center;
            background-repeat: no-repeat;
        }
        &:first-child {
            &::before {
                background-image: url('@img/loupe.png');
            }
        }
        &:nth-child(2) {
            &::before {
                background-image: url('@img/percent.png');
            }
        }
        &:nth-child(3) {
            &::before {
                background-image: url('@img/add-file.png');
            }
        }
        &:nth-child(4) {
            &::before {
                background-image: url('@img/letter.png');
            }
        }
        &:nth-child(5) {
            &::before {
                background-image: url('@img/bill.png');
            }
            &::after {
                display: none;
            }
        }
        &::after {
            content: "";
            position: absolute;
            width: 110px;
            height: 6px;
            right: 0;
            left: 163px;
            top: -70px;
            background-image: url('@img/circle.svg');
            background-repeat: repeat-x;
        }
    }
    .form {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        grid-template-rows: repeat(3, 48px);
        gap: 30px;
        &__select {
            z-index: 5;
        }
        &__email,
        &__name {
            font-family: Lato, sans-serif;
            font-size: 18px;
            font-style: normal;
            font-weight: 400;
            line-height: normal;
            color: #272733;
            padding: 10px;
            outline: none;
            border-radius: 3px;
            border: 1px solid #FFF;
            background: rgba(255, 255, 255, 0.85);
            &::placeholder {
                font-family: Lato, sans-serif;
                font-size: 18px;
                font-style: normal;
                font-weight: 400;
                line-height: normal;
                color: #272733;
            }
            @media ($device-hover) and ($device-pointer) {
                &:hover {
                    background-color: rgb(61, 64, 80);
                    border-color: rgb(61, 64, 80);
                    color: white;
                    border-radius: 3px;
                    &::placeholder {
                        color: white;
                    }
                }
            }
        }
        &__slider-label {
            position: relative;
            grid-column: 1/span 2;
            font-family: Lato, sans-serif;
            font-size: 18px;
            font-style: normal;
            font-weight: 400;
            line-height: normal;
            color: white;
        }
        &__slider {
            margin-top: 10px;
            appearance: none; 
            width: 100%;
            border-radius: 10px;
            &::-webkit-slider-thumb {
                -webkit-appearance: none;
                appearance: none; 
                width: 20px;
                height: 20px;
                border-radius: 50%;
                margin-top: -8px;
                border: 3px solid var(--dark-blue);
                background-color: var(--light-blue);
            }
            &::-webkit-slider-runnable-track {
                border-radius: 10px;
                height: 4px;
                border: 1px solid white;
                background: #b3b3b7;
            }
        }
        &__slider-value {
            position: absolute;
            right: 0;
            top: 0;
        }
        &__file-input {
            width: 100%;
            color: transparent;
            position: relative;
            &::-webkit-file-upload-button {
                visibility: hidden;
            }
            &::after {
                position: absolute;
                content: "Прикрепить файл";
                font-family: Lato, sans-serif;
                font-size: 15px;
                font-style: normal;
                font-weight: 600;
                line-height: normal;
                text-transform: uppercase;
                color: #272733;
                display: inline-block;
                text-align: center;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(255, 255, 255, 0.85);
                border: 1px solid #FFF;
                border-radius: 3px;
                padding: 15px 10px;
                outline: none;
                white-space: nowrap;
                -webkit-user-select: none;
                cursor: pointer;
                padding-left: 40px;
            }
            &::before {
                position: absolute;
                content: "";
                z-index: 5;
                width: 20px;
                height: 20px;     
                top: 0;
                bottom: 0;
                margin: auto 0;
                margin-left: 100px;
                background: url('@img/file.png') 0 0 no-repeat;
                background-size: contain !important;
            }
            @media ($device-hover) and ($device-pointer) {
                &:hover {
                    &::after {
                        background-color: rgb(61, 64, 80);
                        border-color: rgb(61, 64, 80);
                        color: white;
                        border-radius: 3px;
                    }
                    &::placeholder {
                        color: white;
                    }
                }
            }
        }
        &__submit {
            @include button;
            grid-row: 3;
            grid-column: 2;
            color: white;
            text-transform: uppercase;
            border: 1px solid white;
            background: #3E9CDC;
            text-align: center;
            font-size: 15px;
            font-weight: 600;
        }
        @media ($device-hover) and ($device-pointer) {
            .form__submit {
                &:hover,
                &:focus, 
                &:active {
                    background: #3089c5;
                    outline: none;
                    border-color: var(--dark-blue);
                }
            }
        }
    }
}

@media screen and (max-width: 1190px) {
    .order {
		&__stages-list-item {
            &::after {
                width: 70px;
                left: 100%;
            }
		}
        .form {
            &__file-input {
                &::before {
                    margin-left: 24%;
                }
            }
        }
    }
}

@media screen and (max-width: 1024px) {
    .order {
        .form {
            &__file-input {
                &::before {
                    margin-left: 20%;
                }
            }
        }
        &__stages-list-item {
            font-size: 14px;
            margin-top: 100px;
            &::after {
                right: 0;
                left: 100%;
                top: -65px;
            }
            &::before {
                background-position: center center;
                top: -100px;
                width: 80px;
                height: 80px;
            }
        }
    }
}

@media screen and #{$tab-land} {
    .order {
        .form {
            grid-template-columns: repeat(2, 1fr);
            grid-template-rows: repeat(4, 48px);
            &__file-input {
                grid-row: 2;
                grid-column: 2;
                &::before {
                    margin-left: 26%;
                }
            }
            &__submit {
                grid-row: 4;
                grid-column: 1/ span 2;
                max-width: 370px;
                justify-self: center;
            }
        }
        &__stages-list {
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(2, 1fr);
            justify-items: center;
        }
        &__stages-list-item {
            &::after {
                width: 90px;
                left: 100%;
            }
            &:nth-child(3)::after {
                display: none;
            }
        }
    }
}

@media screen and #{$tab-port} {
    .order {
		&__stages-list-item {
            &::after {
                width: 70px;
                left: 100%;
            }
		}
        .form {
            &__file-input {
                &::before {
                    margin-left: 15%;
                }
                &::after {
                    padding-left: 30px;
                }
            }
        }
    }
}

@media screen and (max-width: 640px) {
    .order {
		&__container {
            padding-bottom: 140px;
        }
        .form {
            grid-template-columns: 1fr;
            grid-template-rows: repeat(6, 48px);
            justify-items: center;
            gap: 50px 0;
            &__select {
                max-width: 370px;
            }
            &__email {
                grid-row: 2;
                min-width: 370px;
            }
            &__name {
                grid-row: 3;
                min-width: 370px;
            }
            &__slider-label {
                grid-row: 4;
            }
            &__file-input {
                grid-row: 5;
                grid-column: 1;
                max-width: 370px;
                &::before {
                    margin-left: 15%;
                }
                &::after {
                    padding-left: 30px;
                }
            }
            &__submit {
                grid-row: 6;
            }
        }
    }
}

@media screen and #{$mobile} {
    .order {
		&__container {
            padding-top: 100px;
            padding-bottom: 80px;
        }
		&__title {
            font-size: 25px;
        }
		&__description {
            font-size: 16px;
        }
		&__stages-list {
            grid-template-columns: repeat(2, 1fr);
            grid-template-rows: repeat(3, 1fr);
        }
		&__stages-list-item {
            &::after {
                left: 105%;
            }
            &:nth-child(even)::after,
            &:last-child::after {
                display: none !important;
            }
            &:nth-child(odd)::after {
                display: block;
            }
		}
        .form {
            grid-template-columns: 1fr;
            grid-template-rows: repeat(6, minmax(0px, 48px));
            &__select {
                width: 270px;
            }
            &__email,
            &__name {
                min-width: 270px;
            }
            &__slider-label {
                max-width: 270px;
                margin-top: 30px;
            }
            &__slider-value {
                top: auto;
                bottom: -80px;
            }
            &__file-input {
                grid-row: 6;
                max-width: 270px;
            }
            &__submit {
                max-width: 270px;
                grid-row: 7;
            }
        }
    }
}